{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeNull = exports.JSONSerializable = exports.prepareSignBytes = void 0;\n\nfunction prepareSignBytes(obj) {\n  if (Array.isArray(obj)) {\n    return obj.map(prepareSignBytes);\n  } // string, number, or null\n\n\n  if (typeof obj !== \"object\" || obj === null) {\n    return obj;\n  }\n\n  var sorted = {};\n  Object.keys(obj).sort().forEach(function (key) {\n    if (obj[key] === undefined || obj[key] === null) return;\n    sorted[key] = prepareSignBytes(obj[key]);\n  });\n  return sorted;\n}\n\nexports.prepareSignBytes = prepareSignBytes;\n\nvar JSONSerializable =\n/** @class */\nfunction () {\n  function JSONSerializable() {}\n\n  JSONSerializable.prototype.toJSON = function () {\n    return JSON.stringify(prepareSignBytes(this.toData()));\n  };\n\n  JSONSerializable.prototype.toAminoJSON = function () {\n    return JSON.stringify(prepareSignBytes(this.toAmino()));\n  };\n\n  return JSONSerializable;\n}();\n\nexports.JSONSerializable = JSONSerializable;\n\nfunction removeNull(obj) {\n  if (obj !== null && typeof obj === 'object') {\n    return Object.entries(obj).filter(function (_a) {\n      var v = _a[1];\n      return v != null;\n    }).reduce(function (acc, _a) {\n      var _b;\n\n      var k = _a[0],\n          v = _a[1];\n      return __assign(__assign({}, acc), (_b = {}, _b[k] = v === Object(v) && !Array.isArray(v) ? removeNull(v) : v, _b));\n    }, {});\n  }\n\n  return obj;\n}\n\nexports.removeNull = removeNull;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,SAAgBA,gBAAhB,CAAiCC,GAAjC,EAAyC;EACvC,IAAIC,KAAK,CAACC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;IACtB,OAAOA,GAAG,CAACG,GAAJ,CAAQJ,gBAAR,CAAP;EACD,CAHsC,CAKvC;;;EACA,IAAI,OAAOC,GAAP,KAAe,QAAf,IAA2BA,GAAG,KAAK,IAAvC,EAA6C;IAC3C,OAAOA,GAAP;EACD;;EAED,IAAMI,MAAM,GAAQ,EAApB;EAEAC,MAAM,CAACC,IAAP,CAAYN,GAAZ,EACGO,IADH,GAEGC,OAFH,CAEW,eAAG;IACV,IAAIR,GAAG,CAACS,GAAD,CAAH,KAAaC,SAAb,IAA0BV,GAAG,CAACS,GAAD,CAAH,KAAa,IAA3C,EAAiD;IACjDL,MAAM,CAACK,GAAD,CAAN,GAAcV,gBAAgB,CAACC,GAAG,CAACS,GAAD,CAAJ,CAA9B;EACD,CALH;EAMA,OAAOL,MAAP;AACD;;AAnBDO;;AAqBA;AAAA;AAAA;EAAA,6BAUC;;EANQC,oCAAP;IACE,OAAOC,IAAI,CAACC,SAAL,CAAef,gBAAgB,CAAC,KAAKgB,MAAL,EAAD,CAA/B,CAAP;EACD,CAFM;;EAGAH,yCAAP;IACE,OAAOC,IAAI,CAACC,SAAL,CAAef,gBAAgB,CAAC,KAAKiB,OAAL,EAAD,CAA/B,CAAP;EACD,CAFM;;EAGT;AAAC,CAVD;;AAAsBL;;AAYtB,SAAgBM,UAAhB,CAA2BjB,GAA3B,EAAmC;EACjC,IAAIA,GAAG,KAAK,IAAR,IAAgB,OAAOA,GAAP,KAAe,QAAnC,EAA6C;IAC3C,OAAOK,MAAM,CAACa,OAAP,CAAelB,GAAf,EACJmB,MADI,CACG,UAACC,EAAD,EAAM;UAAFC,CAAC;MAAM,QAAC,IAAI,IAAL;IAAS,CADvB,EAEJC,MAFI,CAGH,UAACC,GAAD,EAAMH,EAAN,EAAY;;;UAALI,CAAC;UAAEH,CAAC;MAAM,6BACZE,GADY,IACTE,YACLD,CADK,IACDH,CAAC,KAAKhB,MAAM,CAACgB,CAAD,CAAZ,IAAmB,CAACpB,KAAK,CAACC,OAAN,CAAcmB,CAAd,CAApB,GAAuCJ,UAAU,CAACI,CAAD,CAAjD,GAAuDA,CADtD,EACuDI,EAF9C;IAGf,CANC,EAOH,EAPG,CAAP;EASD;;EAED,OAAOzB,GAAP;AACD;;AAdDW","names":["prepareSignBytes","obj","Array","isArray","map","sorted","Object","keys","sort","forEach","key","undefined","exports","JSONSerializable","JSON","stringify","toData","toAmino","removeNull","entries","filter","_a","v","reduce","acc","k","_b"],"sources":["../../src/util/json.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}