{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Plan = void 0;\n\nvar json_1 = require(\"../../util/json\");\n\nvar upgrade_1 = require(\"@terra-money/terra.proto/cosmos/upgrade/v1beta1/upgrade\");\n\nvar long_1 = __importDefault(require(\"long\"));\n/*\n * Plan specifies information about a planned upgrade and when it should occur.\n */\n\n\nvar Plan =\n/** @class */\nfunction (_super) {\n  __extends(Plan, _super);\n  /**\n   * @param name This name will be used by the upgraded  version of the software to apply any special \"on-upgrade\" commands during the first BeginBlock method after the upgrade is applied.\n   * @param time Deprecated\n   * @param height  The height at which the upgrade must be performed. Only used if Time is not set.\n   * @param info Any application specific upgrade info to be included on-chain such as a git commit that validators could automatically upgrade to\n   * @param upgraded_client_state Deprecated\n   */\n\n\n  function Plan(name, time, height, info, upgraded_client_state) {\n    var _this = _super.call(this) || this;\n\n    _this.name = name;\n    _this.time = time;\n    _this.height = height;\n    _this.info = info;\n    _this.upgraded_client_state = upgraded_client_state;\n    return _this;\n  }\n\n  Plan.fromAmino = function (data) {\n    var name = data.name,\n        time = data.time,\n        height = data.height,\n        info = data.info,\n        upgraded_client_state = data.upgraded_client_state;\n    return new Plan(name, time ? new Date(time) : undefined, height, info, upgraded_client_state);\n  };\n\n  Plan.prototype.toAmino = function () {\n    var _a = this,\n        name = _a.name,\n        time = _a.time,\n        height = _a.height,\n        info = _a.info,\n        upgraded_client_state = _a.upgraded_client_state;\n\n    var res = {\n      name: name,\n      time: time ? time.toISOString().replace(/\\.000Z$/, 'Z') : undefined,\n      height: height,\n      info: info,\n      upgraded_client_state: upgraded_client_state\n    };\n    return res;\n  };\n\n  Plan.fromData = function (data) {\n    var name = data.name,\n        time = data.time,\n        height = data.height,\n        info = data.info,\n        upgraded_client_state = data.upgraded_client_state;\n    return new Plan(name, time ? new Date(time) : undefined, height, info, upgraded_client_state);\n  };\n\n  Plan.prototype.toData = function () {\n    var _a = this,\n        name = _a.name,\n        time = _a.time,\n        height = _a.height,\n        info = _a.info,\n        upgraded_client_state = _a.upgraded_client_state;\n\n    var res = {\n      name: name,\n      time: time ? time.toISOString().replace(/\\.000Z$/, 'Z') : undefined,\n      height: height,\n      info: info,\n      upgraded_client_state: upgraded_client_state\n    };\n    return res;\n  };\n\n  Plan.fromProto = function (proto) {\n    return new Plan(proto.name, proto.time, proto.height.toString(), proto.info, proto.upgradedClientState);\n  };\n\n  Plan.prototype.toProto = function () {\n    var _a = this,\n        name = _a.name,\n        time = _a.time,\n        height = _a.height,\n        info = _a.info,\n        upgraded_client_state = _a.upgraded_client_state;\n\n    return upgrade_1.Plan.fromPartial({\n      name: name,\n      time: time,\n      height: long_1.default.fromString(height),\n      info: info,\n      upgradedClientState: upgraded_client_state\n    });\n  };\n\n  return Plan;\n}(json_1.JSONSerializable);\n\nexports.Plan = Plan;","map":{"version":3,"mappings":"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","names":["__extends","name","time","height","info","upgraded_client_state","_super","_this","Plan","data","Date","undefined","res","toISOString","replace","proto","toString","upgradedClientState","upgrade_1","fromPartial","long_1","fromString","json_1","exports"],"sources":["../../../src/core/upgrade/Plan.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}